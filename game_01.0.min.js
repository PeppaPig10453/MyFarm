// 我的农场基础支撑和核心模块
// 版本: 01.0
// by PeppaPig104
[0,(function(d){'use strict';const b={Fooder:10};const s={Pig:50,PigMeat:30};const f={Fooder:[50,1]};const k={Pig:5};let p={i:{fod:1,pig:1,pm:0},m:50};function a(c){for(var i=0;i<c.length;i++){if(c[i].classList.toString().indexOf("feed")!==-1){c[i].addEventListener("click",function(){if(p.i.fod>=f.Fooder[1]){p.i.fod-=f.Fooder[1];if(Math.random()<(f.Fooder[0]/100)){p.i.pig+=1}}})}else if(c[i].classList.toString().indexOf("buy")!==-1){c[i].addEventListener("click",function(){if(p.m>=b[this.getAttribute("param-value")]){p.m-=b[this.getAttribute("param-value")];if(this.getAttribute("param-value")=="Fooder"){p.i.fod++}}})}else if(c[i].classList.toString().indexOf("sell")!==-1){c[i].addEventListener("click",function(){if(this.getAttribute("param-value")=="Pig"){if(p.i.pig!==0){p.i.pig--;p.m+=s.Pig}}else if(this.getAttribute("param-value")=="PigMeat"){if(p.i.pm!==0){p.i.pm--;p.m+=s.PigMeat}}})}else if(c[i].classList.toString().indexOf("kill")!==-1){c[i].addEventListener("click",function(){if(this.getAttribute("param-value")=="PigToPigMeat"){if(p.i.pig!==0){p.i.pig--;p.i.pm+=k.Pig}}})}}};function e(){let tm=d.querySelectorAll(".tabmenu");for(let i=0;i<tm.length;i++){tm[i].addEventListener("click",function(){if(this.getAttribute("param-value")!==undefined){if(this.classList.toString().indexOf("undeved")==-1){if(this.classList.toString().indexOf("locked")==-1){d.querySelector(".tab.current").classList.add("hide");d.querySelector(".tabmenu.current").classList.add("hide");d.querySelector(".tab.current").classList.remove("current");d.querySelector(".tabmenu.current").classList.remove("current");d.querySelector(`.tab[name=${this.getAttribute("param-value")}]`).classList.remove("hide");d.querySelector(`.tab[name=${this.getAttribute("param-value")}]`).classList.add("current");d.querySelector(`.tabmenu[param-value=${this.getAttribute("param-value")}]`).classList.add("current")}}}})}};(function(){setTimeout(function(){a(d.querySelectorAll(".button"));e();const mym=d.querySelector(".globalsidebar .sidebaritem .sidebaritemvalue");const myp=d.querySelector(".tabsidebar .sidebaritem .sidebaritemvalue");const myp2=d.querySelectorAll(".tabsidebar .sidebaritem .sidebaritemvalue")[2];const mypm=d.querySelectorAll(".tabsidebar .sidebaritem .sidebaritemvalue")[3];let k=false;setInterval(function(){if(p.m>=150){if(!k){k=true;d.querySelector(".tabmenu.locked").classList.remove("locked")}}mym.innerText=p.m;myp.innerText=p.i.pig;myp2.innerText=p.i.pig;mypm.innerText=p.i.pm},1)},500)})();return 0})(document)]
